<canvas id="canvas" width="300" height="300"></canvas>
<script src="web-lib/processing.js"></script>
<script src="web-lib/functional-light.js"></script>
<script>
  //Vamos a usar http://processingjs.org/

  // Importamos las librerias
  let { append, cons, first, isEmpty, isList, length, rest } = functionalLight;


  const square = { x: 100, y: 100, ancho: 100, alto: 100 };
  var value = 10;

  function sketchProc(processing) {

    /**
     * Esto se llama antes de iniciar el juego
     */
    processing.setup = function () {
      processing.frameRate(10);
      processing.size(400, 400);
      processing.background(10, 200, 50);
    }

    // Esta es la función que pinta todo. Se ejecuta 60 veces por segundo
    processing.draw = function () {
      /**
       *Dibuja algo en el canvas
       */
      processing.background(10, 200, 50);
      processing.fill(240, 240, 240);
      processing.rect(square.x, square.y, square.ancho, square.alto);
    };

    // Esta función se ejecuta cada vez que presionamos una tecla
    processing.keyPressed = function() {
      if (processing.key == processing.CODED) {
        switch(processing.keyCode) {
          case processing.UP:
            square.y-=5;
          break;
          case processing.DOWN:
            square.y+=5;
          break;
          case processing.LEFT:
            square.x-=5;
          break;
          case processing.RIGHT:
            square.x+=5;
          break;
        }
      }
    }
  }

  var canvas = document.getElementById("canvas");

  // Adjuntamos nuestro sketch al framework de processing
  var processingInstance = new Processing(canvas, sketchProc);
</script>